name: GIthub Action output
on :  
  push:
    branches: [main]
  workflow_dispatch:

jobs:
  ci-job:
    runs-on: ubuntu-latest
    outputs:
      output1: ${steps.stage1Id.outputs.test}
    steps:
      - name: Stage1 from CI job1
        id: step1Id
        run: |
           echo "test=stage1" >> $GITHUB_OUTPUT

      - name: Stage2 from CI job2
        id: step2Id
        run: |
          echo "test=stage2" >> $GITHUB_OUTPUT 

  cd-job:
    runs-on: ubuntu-latest
    needs: ci-job
    steps:
      - name: Step1 from cd job
        env:
          INPUT_TEST: ${{ needs.ci-job.outputs.output1 }}
        run: |
          echo "output from cd-job step: $INPUT_TEST"
